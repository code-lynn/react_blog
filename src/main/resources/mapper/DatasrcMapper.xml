<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.didichuxing.decision.dao.DatasrcDao">
    <!-- 查找指定 alias 的源表信息 -->
    <select id="selectByAlias" resultMap="DatasrcMap">
        SELECT c.*
        FROM datasrc c
        WHERE alias IN 
        
        <foreach collection="list" item="alias" open="(" separator="," close=")">
            #{alias}
        </foreach>
    </select>

    <resultMap id="DatasrcMap" type="Datasrc">
        <id column="id" property="id" javaType="long"/>
        <result column="hive_table" property="hiveTable" javaType="String"/>
        <result column="alias" property="alias" javaType="String"/>
        <result column="logic_table" property="logicTable" javaType="String"/>
        <result column="primary_key" property="primaryKey" javaType="String"/>
        <result column="extra_key" property="extractKey" javaType="String"/>
        <result column="path" property="path" javaType="String"/>
        <result column="create_time" property="createTime" javaType="String"/>
        <result column="modify_time" property="modifyTime" javaType="String"/>
        <result column="group" property="group" javaType="String"/>
        <result column="status" property="status" javaType="int"/>
        <result column="back_days" property="backDays" javaType="int"/>
        <result column="priority" property="priority" javaType="int"/>
        <result column="logical_back" property="logicalBack" javaType="int"/>
        <result column="fusion_table" property="fusionTable" javaType="String"/>
    </resultMap>
</mapper>